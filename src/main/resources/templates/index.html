<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
            crossorigin="anonymous"
    />

    <!-- Custom Stylesheet -->
    <link href="css/style.css" rel="stylesheet">
</head>
<body>
<header>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" th:href="@{'/index'}">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-fire" viewBox="0 0 16 16">
                    <path d="M8 16c3.314 0 6-2 6-5.5 0-1.5-.5-4-2.5-6 .25 1.5-1.25 2-1.25 2C11 4 9 .5 6 0c.357 2 .5 4-2 6-1.25 1-2 2.729-2 4.5C2 14 4.686 16 8 16m0-1c-1.657 0-3-1-3-2.75 0-.75.25-2 1.25-3C6.125 10 7 10.5 7 10.5c-.375-1.25.5-3.25 2-3.5-.179 1-.25 2 1 3 .625.5 1 1.364 1 2.25C11 14 9.657 15 8 15"/>
                </svg>
                Admin Dashboard</a>
            <button
                    class="navbar-toggler"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent"
                    aria-controls="navbarSupportedContent"
                    aria-expanded="false"
                    aria-label="Toggle navigation"
            >
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>
</header>
<main class="my-5">
    <div class="container">
        <div class="container-fluid mt-3">
            <div class="row">
                <div th:if="${message != null}" class="alert alert-success alert-dismissible fade show text-center message"
                    role="alert">
                    [[${message}]]
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
                <div class="col-lg-3 col-sm-6">
                    <div class="card gradient-1">
                        <div class="card-body">
                            <h3 class="card-title text-white">200 Responses</h3>
                            <div class="d-inline-block">
                                <h2 class="text-white">[[${ok}]]</h2>
                                <p class="text-white mb-0" th:text="${#dates.format(standardDate, 'dd-MM-yyyy HH:mm')}"></p>
                            </div>
                            <span class="float-right display-5 opacity-5">
                                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-111 111-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L369 209z"/></svg>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-sm-6">
                    <div class="card gradient-5">
                        <div class="card-body">
                            <h3 class="card-title text-white">404 Responses</h3>
                            <div class="d-inline-block">
                                <h2 class="text-white">[[${notFound}]]</h2>
                                <p class="text-white mb-0" th:text="${#dates.format(standardDate, 'dd-MM-yyyy HH:mm')}"></p>
                            </div>
                            <span class="float-right display-5 opacity-5">
                                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M367.2 412.5L99.5 144.8C77.1 176.1 64 214.5 64 256c0 106 86 192 192 192c41.5 0 79.9-13.1 111.2-35.5zm45.3-45.3C434.9 335.9 448 297.5 448 256c0-106-86-192-192-192c-41.5 0-79.9 13.1-111.2 35.5L412.5 367.2zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"/></svg>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-sm-6">
                    <div class="card gradient-3">
                        <div class="card-body">
                            <h3 class="card-title text-white">400 Responses</h3>
                            <div class="d-inline-block">
                                <h2 class="text-white">[[${badRequest}]]</h2>
                                <p class="text-white mb-0" th:text="${#dates.format(standardDate, 'dd-MM-yyyy HH:mm')}"></p>
                            </div>
                            <span class="float-right display-5 opacity-5">
                                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"/></svg>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-sm-6">
                    <div class="card gradient-2">
                        <div class="card-body">
                            <h3 class="card-title text-white">500 Responses</h3>
                            <div class="d-inline-block">
                                <h2 class="text-white">[[${internal}]]</h2>
                                <p class="text-white mb-0" th:text="${#dates.format(standardDate, 'dd-MM-yyyy HH:mm')}"></p>
                            </div>
                            <span class="float-right display-5 opacity-5">
                                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M256 0c53 0 96 43 96 96v3.6c0 15.7-12.7 28.4-28.4 28.4H188.4c-15.7 0-28.4-12.7-28.4-28.4V96c0-53 43-96 96-96zM41.4 105.4c12.5-12.5 32.8-12.5 45.3 0l64 64c.7 .7 1.3 1.4 1.9 2.1c14.2-7.3 30.4-11.4 47.5-11.4H312c17.1 0 33.2 4.1 47.5 11.4c.6-.7 1.2-1.4 1.9-2.1l64-64c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3l-64 64c-.7 .7-1.4 1.3-2.1 1.9c6.2 12 10.1 25.3 11.1 39.5H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H416c0 24.6-5.5 47.8-15.4 68.6c2.2 1.3 4.2 2.9 6 4.8l64 64c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0l-63.1-63.1c-24.5 21.8-55.8 36.2-90.3 39.6V240c0-8.8-7.2-16-16-16s-16 7.2-16 16V479.2c-34.5-3.4-65.8-17.8-90.3-39.6L86.6 502.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l64-64c1.9-1.9 3.9-3.4 6-4.8C101.5 367.8 96 344.6 96 320H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96.3c1.1-14.1 5-27.5 11.1-39.5c-.7-.6-1.4-1.2-2.1-1.9l-64-64c-12.5-12.5-12.5-32.8 0-45.3z"/></svg>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row" style="margin-top: 26px; margin-bottom: 26px;">
                <div class="col">
                    <div class="card bg-dark">
                        <div class="card-body">
                            <h3 class="card-title text-white-50">Latest Http Requests Traces</h3>
                        </div>
                    </div>
                </div>
            </div>
            <div th:if="${!error && exchanges.totalElements > 0}" style="margin-top: 26px;">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="card">
                            <div class="card-body">
                                <div class="active-member">
                                    <div class="table-responsive">
                                        <table class="table table-xs mb-0">
                                            <thead>
                                                <tr>
                                                    <th scope="col">Time Stamp</th>
                                                    <th scope="col">Method</th>
                                                    <th scope="col">Time Taken(ms)</th>
                                                    <th scope="col">Host</th>
                                                    <th scope="col">Url</th>
                                                    <th scope="col">Response</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr th:each="exchange : ${exchanges}">
                                                    <td>[[${#strings.substring(exchange.timestamp,0,19)}]]</td>
                                                    <td>[[${exchange.request.method}]]</td>
                                                    <td>[[${exchange.timeTaken}]]</td>
                                                    <div th:if="${exchange.request.headers.host != null}">
                                                        <td>[[${exchange.request.headers.host.get(0)}]]</td>
                                                    </div>
                                                    <div th:unless="${exchange.request.headers.host != null}">
                                                        <td>No host</td>
                                                    </div>
                                                    <td>[[${exchange.request.uri}]]</td>
                                                    <td>[[${exchange.response.status}]]</td> 
                                                </tr>
                                            </tbody>
                                            <tfoot>
                                                <tr>
                                                    <th scope="col">Time Stamp</th>
                                                    <th scope="col">Method</th>
                                                    <th scope="col">Time Taken(ms)</th>
                                                    <th scope="col">Host</th>
                                                    <th scope="col">Url</th>
                                                    <th scope="col">Response</th>
                                                </tr>
                                            </tfoot>
                                        </table>
                                        <div th:if="${exchanges.totalPages > 0}" class="mt-4">
                                            <nav aria-label="Table pagination">
                                                <ul class="pagination justify-content-center">
                                                    <li th:each="pageNumber : ${pageNumbers}" class="page-item" aria-current="page">
                                                        <a class="page-link" th:href="@{/index(size=${exchanges.size}, page=${pageNumber})}" th:text=${pageNumber}></a>
                                                    </li>
                                                </ul>
                                            </nav>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div th:unless="${!error && exchanges.totalElements > 0}">
                <div class="row">
                    <p>There are no brands in the database.</p>
                </div>
            </div>
            
        </div>
    </div>
</main>
<footer class="footer position-absolute mt-auto py-3 bg-dark bottom-0 start-0 end-0">
    <div class="container text-center">
        <span class="text-white-50 bg-dark">&copy; 2024-XXXX, Leonardo San Blas Inc.</span>
    </div>
</footer>
<script
        src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
        integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
        crossorigin="anonymous"
></script>
<script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
        integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
        crossorigin="anonymous"
></script>
</body>
</html>
